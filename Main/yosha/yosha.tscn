[gd_scene load_steps=25 format=3 uid="uid://ddf35qbku2f8s"]

[ext_resource type="Script" path="res://Main/yosha/yosha.gd" id="1_uoofa"]
[ext_resource type="Texture2D" uid="uid://brjt8jvcf7o16" path="res://Main/yosha/yosha-Sheet.png" id="2_2mwo8"]
[ext_resource type="Script" path="res://addons/godot_state_charts/state_chart.gd" id="3_ooetd"]
[ext_resource type="Script" path="res://addons/godot_state_charts/parallel_state.gd" id="4_ye0v2"]
[ext_resource type="Script" path="res://addons/godot_state_charts/compound_state.gd" id="5_dw8vb"]
[ext_resource type="Script" path="res://addons/godot_state_charts/atomic_state.gd" id="6_lcbv3"]
[ext_resource type="Script" path="res://addons/godot_state_charts/transition.gd" id="7_yt16j"]

[sub_resource type="AtlasTexture" id="AtlasTexture_nkfo8"]
atlas = ExtResource("2_2mwo8")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4oqon"]
atlas = ExtResource("2_2mwo8")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fbgnh"]
atlas = ExtResource("2_2mwo8")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7j2go"]
atlas = ExtResource("2_2mwo8")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_i0os6"]
atlas = ExtResource("2_2mwo8")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_q7jqp"]
atlas = ExtResource("2_2mwo8")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tg4j8"]
atlas = ExtResource("2_2mwo8")
region = Rect2(192, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_204g1"]
atlas = ExtResource("2_2mwo8")
region = Rect2(224, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fbux6"]
atlas = ExtResource("2_2mwo8")
region = Rect2(256, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nrc1m"]
atlas = ExtResource("2_2mwo8")
region = Rect2(288, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1yy8r"]
atlas = ExtResource("2_2mwo8")
region = Rect2(320, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ed1ws"]
atlas = ExtResource("2_2mwo8")
region = Rect2(352, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sn4hx"]
atlas = ExtResource("2_2mwo8")
region = Rect2(384, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yxat2"]
atlas = ExtResource("2_2mwo8")
region = Rect2(416, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2iaoa"]
atlas = ExtResource("2_2mwo8")
region = Rect2(448, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_kpgy8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nkfo8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4oqon")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fbgnh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7j2go")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i0os6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q7jqp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tg4j8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_204g1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fbux6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nrc1m")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1yy8r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ed1ws")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sn4hx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yxat2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2iaoa")
}],
"loop": true,
"name": &"walk",
"speed": 10.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_fqpgf"]
radius = 11.0
height = 22.0

[node name="yosha" type="CharacterBody2D"]
script = ExtResource("1_uoofa")

[node name="Camera2D" type="Camera2D" parent="."]
visibility_layer = 7
zoom = Vector2(10, 10)
position_smoothing_speed = 50.0
drag_horizontal_enabled = true
drag_vertical_enabled = true

[node name="Yosha" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_kpgy8")
animation = &"idle"
frame = 4
frame_progress = 0.851635

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_fqpgf")

[node name="StateChart" type="Node" parent="."]
script = ExtResource("3_ooetd")

[node name="ParallelState" type="Node" parent="StateChart"]
script = ExtResource("4_ye0v2")

[node name="MoveState" type="Node" parent="StateChart/ParallelState"]
unique_name_in_owner = true
script = ExtResource("5_dw8vb")
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateChart/ParallelState/MoveState"]
script = ExtResource("6_lcbv3")

[node name="moving" type="Node" parent="StateChart/ParallelState/MoveState/Idle"]
script = ExtResource("7_yt16j")
to = NodePath("../../Walk")
event = &"moving"

[node name="Walk" type="Node" parent="StateChart/ParallelState/MoveState"]
script = ExtResource("6_lcbv3")

[node name="stop" type="Node" parent="StateChart/ParallelState/MoveState/Walk"]
script = ExtResource("7_yt16j")
to = NodePath("../../Idle")
event = &"stop"

[node name="ArmState" type="Node" parent="StateChart/ParallelState"]
script = ExtResource("5_dw8vb")
initial_state = NodePath("No arm")

[node name="No arm" type="Node" parent="StateChart/ParallelState/ArmState"]
script = ExtResource("6_lcbv3")

[node name="Armed" type="Node" parent="StateChart/ParallelState/ArmState"]
script = ExtResource("6_lcbv3")

[connection signal="state_entered" from="StateChart/ParallelState/MoveState/Idle" to="." method="_on_idle_state_entered"]
[connection signal="state_processing" from="StateChart/ParallelState/MoveState/Idle" to="." method="_on_idle_state_processing"]
[connection signal="state_entered" from="StateChart/ParallelState/MoveState/Walk" to="." method="_on_walk_state_entered"]
[connection signal="state_processing" from="StateChart/ParallelState/MoveState/Walk" to="." method="_on_walk_state_processing"]
